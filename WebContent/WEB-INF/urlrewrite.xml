<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE urlrewrite PUBLIC "-//tuckey.org//DTD UrlRewrite 4.0//EN"
        "http://www.tuckey.org/res/dtds/urlrewrite4.0.dtd">

<!--

    Configuration file for UrlRewriteFilter
    http://www.tuckey.org/urlrewrite/

-->
<urlrewrite decode-using="null">
	<!-- set decode-using="null" to stop urlrewriterfilter decoding request. -->

	<rule>
		<note>
			The rule means that requests to /test/status/ will be redirected to /rewrite-status
			the url will be rewritten.
		</note>
		<from>^/test/status/$</from>
		<to type="redirect">%{context-path}/rewrite-status</to>
	</rule>


	<outbound-rule>
		<note>
			The outbound-rule specifies that when response.encodeURL is called (if you are using JSTL c:url)
			the url /rewrite-status will be rewritten to
			/test/status/.

			The above rule and this outbound-rule means that end users should never see the
			url /rewrite-status only /test/status/ both in thier location
			bar and in hyperlinks
			in your pages.
		</note>
		<from>^/rewrite-status$</from>
		<to type="forward">/test/status/</to>
	</outbound-rule>


    <!--

    INSTALLATION

        in your web.xml add...

        <filter>
            <filter-name>UrlRewriteFilter</filter-name>
            <filter-class>org.tuckey.web.filters.urlrewrite.UrlRewriteFilter</filter-class>
            <init-param>
                <param-name>logLevel</param-name>
                <param-value>WARN</param-value>
            </init-param>
        </filter>
        <filter-mapping>
            <filter-name>UrlRewriteFilter</filter-name>
            <url-pattern>/*</url-pattern>
        </filter-mapping>

     EXAMPLES

     Redirect one url
        <rule>
            <from>^/some/old/page.html$</from>
            <to type="redirect">/very/new/page.html</to>
        </rule>

    Redirect a directory
        <rule>
            <from>^/some/olddir/(.*)$</from>
            <to type="redirect">/very/newdir/$1</to>
        </rule>

    Clean a url
        <rule>
            <from>^/products/([0-9]+)$</from>
            <to type="forward">/products/index.jsp?product_id=$1</to>
        </rule>
    eg, /products/1234 will be passed on to /products/index.jsp?product_id=1234 without the user noticing.

    Browser detection
        <rule>
            <condition name="user-agent">Mozilla/[1-4]</condition>
            <from>^/some/page.html$</from>
            <to type="forward">/some/page-for-old-browsers.html</to>
        </rule>
    eg, will pass the request for /some/page.html on to /some/page-for-old-browsers.html only for older
    browsers whose user agent srtings match Mozilla/1, Mozilla/2, Mozilla/3 or Mozilla/4.

    Centralised browser detection
        <rule>
            <condition name="user-agent">Mozilla/[1-4]</condition>
            <set type="request" name="browser">moz</set>
        </rule>
    eg, all requests will be checked against the condition and if matched
    request.setAttribute("browser", "moz") will be called.

    -->

	<rule>
		<from>^/d/(.*)/(.*)/(.*)$</from>
		<to type="forward">/shortened.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>

	<rule>
		<from>^/d/(.*)/(.*)$</from>
		<to type="forward">/shortened.jsp?id=$1&amp;id2=$2</to>
	</rule>

	<rule>
		<from>^/d/(.*)$</from>
		<to type="forward">/shortened.jsp?id=$1</to>
	</rule>



	<rule>
		<from>^/cache/(.*)$</from>
		<to type="forward">/cache.jsp?id=$1</to>
	</rule>
	<rule>
		<from>^/c/(.*)$</from>
		<to type="forward">/cache.jsp?id=$1</to>
	</rule>


	<rule>
		<from>^/u/(.*)/(.*)$</from>
		<to type="forward">/user.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/u/(.*)$</from>
		<to type="forward">/user.jsp?id=$1</to>
	</rule>
	<rule>
		<from>^/user/(.*)/(.*)$</from>
		<to type="forward">/user.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/user/(.*)$</from>
		<to type="forward">/user.jsp?id=$1</to>
	</rule>

	<rule>
		<from>^/b/(.*)/(.*)$</from>
		<to type="forward">/board.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/b/(.*)$</from>
		<to type="forward">/board.jsp?id=$1</to>
	</rule>
	<rule>
		<from>^/board/(.*)/(.*)$</from>
		<to type="forward">/board.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/board/(.*)$</from>
		<to type="forward">/board.jsp?id=$1</to>
	</rule>

	<rule>
		<from>^/tas/(.*)/(.*)/(.*)$</from>
		<to type="forward">/topicArticleList.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/tas/(.*)/(.*)$</from>
		<to type="forward">/topicArticleList.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/tas/(.*)$</from>
		<to type="forward">/topicArticleList.jsp?id=$1</to>
	</rule>
	<rule>
		<from>^/topicArticleList/(.*)/(.*)/(.*)$</from>
		<to type="forward">/topicArticleList.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/topicArticleList/(.*)/(.*)$</from>
		<to type="forward">/topicArticleList.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/topicArticleListRows/(.*)/(.*)/(.*)$</from>
		<to type="forward">/topicArticleListRows.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/topicArticleListRows/(.*)/(.*)$</from>
		<to type="forward">/topicArticleListRows.jsp?id=$1&amp;id2=$2</to>
	</rule>

	<rule>
		<from>^/uas/(.*)/(.*)/(.*)$</from>
		<to type="forward">/userArticleList.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/uas/(.*)/(.*)$</from>
		<to type="forward">/userArticleList.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/uas/(.*)$</from>
		<to type="forward">/userArticleList.jsp?id=$1</to>
	</rule>
	<rule>
		<from>^/userArticleList/(.*)/(.*)/(.*)$</from>
		<to type="forward">/userArticleList.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/userArticleList/(.*)/(.*)$</from>
		<to type="forward">/userArticleList.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/userArticleListRows/(.*)/(.*)/(.*)$</from>
		<to type="forward">/userArticleListRows.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/userArticleListRows/(.*)/(.*)$</from>
		<to type="forward">/userArticleListRows.jsp?id=$1&amp;id2=$2</to>
	</rule>


	<rule>
		<from>^/bas/(.*)/(.*)/(.*)$</from>
		<to type="forward">/boardArticleList.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/bas/(.*)/(.*)$</from>
		<to type="forward">/boardArticleList.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/bas/(.*)$</from>
		<to type="forward">/boardArticleList.jsp?id=$1</to>
	</rule>
	<rule>
		<from>^/boardArticleList/(.*)/(.*)/(.*)$</from>
		<to type="forward">/boardArticleList.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/boardArticleList/(.*)/(.*)$</from>
		<to type="forward">/boardArticleList.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/boardArticleList/(.*)$</from>
		<to type="forward">/boardArticleList.jsp?id=$1</to>
	</rule>
	<rule>
		<from>^/boardArticleListRows/(.*)/(.*)/(.*)$</from>
		<to type="forward">/boardArticleListRows.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/boardArticleListRows/(.*)/(.*)$</from>
		<to type="forward">/boardArticleListRows.jsp?id=$1&amp;id2=$2</to>
	</rule>


	<rule>
		<from>^/articleCall/(.*)/(.*)$</from>
		<to type="forward">/articleCall.jsp?id=$2&amp;action=$1</to>
	</rule>
	<rule>
		<from>^/topicCall/(.*)/(.*)$</from>
		<to type="forward">/topicCall.jsp?id=$2&amp;action=$1</to>
	</rule>


	<rule>
		<from>^/sarticle/(.*)$</from>
		<to type="forward">/s/article$1.html</to>
	</rule>
	<rule>
		<from>^/article/(.*)/(.*)$</from>
		<to type="forward">/article.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/article/(.*)$</from>
		<to type="forward">/article.jsp?id=$1</to>
	</rule>
	<rule>
		<from>^/a/(.*)/(.*)$</from>
		<to type="forward">/article.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/a/(.*)$</from>
		<to type="forward">/article.jsp?id=$1</to>
	</rule>
	<rule>
		<from>^/article/(.*)$</from>
		<to type="forward">/article.jsp?id=$1</to>
	</rule>


	<rule>
		<from>^/as/(.*)/(.*)/(.*)$</from>
		<to type="forward">/articleList.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/as/(.*)/(.*)$</from>
		<to type="forward">/articleList.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/as/(.*)$</from>
		<to type="forward">/articleList.jsp?id=$1</to>
	</rule>

	<rule>
		<from>^/articleList/(.*)/(.*)/(.*)$</from>
		<to type="forward">/articleList.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/articleList/(.*)/(.*)$</from>
		<to type="forward">/articleList.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/articleList/(.*)$</from>
		<to type="forward">/articleList.jsp?id=$1</to>
	</rule>
	
	<rule>
		<from>^/articleListRows/(.*)/(.*)/(.*)$</from>
		<to type="forward">/articleListRows.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/articleListRows/(.*)/(.*)$</from>
		<to type="forward">/articleListRows.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/articleListRows/(.*)$</from>
		<to type="forward">/articleListRows.jsp?id=$1</to>
	</rule>


	<rule>
		<from>^/boardList/(.*)$</from>
		<to type="forward">/boardList.jsp?id=$1</to>
	</rule>
	<rule>
		<from>^/bs/(.*)$</from>
		<to type="forward">/boardList.jsp?id=$1</to>
	</rule>
	<rule>
		<from>^/boardListRows/(.*)$</from>
		<to type="forward">/boardListRows.jsp?id=$1</to>
	</rule>

	<!-- 
	 	<rule>
		<from>^/articleList.html$</from>
		<to type="forward">/articleList.jsp</to>
	</rule>
	<rule>
		<from>^/boardList.html$</from>
		<to type="forward">/boardList.jsp</to>
	</rule>
	 -->

	<rule>
		<from>^/t/(.*)/(.*)$</from>
		<to type="forward">/topic.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/t/(.*)$</from>
		<to type="forward">/topic.jsp?id=$1</to>
	</rule>
	<rule>
		<from>^/topic/(.*)/(.*)$</from>
		<to type="forward">/topic.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/topic/(.*)$</from>
		<to type="forward">/topic.jsp?id=$1</to>
	</rule>

	<rule>
		<from>^/ts/(.*)/(.*)/(.*)$</from>
		<to type="forward">/topicList.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/ts/(.*)/(.*)$</from>
		<to type="forward">/topicList.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/ts/(.*)$</from>
		<to type="forward">/topicList.jsp?id=$1</to>
	</rule>
	<rule>
		<from>^/topicList/(.*)/(.*)/(.*)$</from>
		<to type="forward">/topicList.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/topicList/(.*)/(.*)$</from>
		<to type="forward">/topicList.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/topicList/(.*)$</from>
		<to type="forward">/topicList.jsp?id=$1</to>
	</rule>
	<rule>
		<from>^/topicListRows/(.*)/(.*)/(.*)$</from>
		<to type="forward">/topicListRows.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/topicListRows/(.*)/(.*)$</from>
		<to type="forward">/topicListRows.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/topicListRows/(.*)$</from>
		<to type="forward">/topicListRows.jsp?id=$1</to>
	</rule>



	<rule>
		<from>^/ps/(.*)/(.*)/(.*)$</from>
		<to type="forward">/rankPhotoList.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/ps/(.*)/(.*)$</from>
		<to type="forward">/rankPhotoList.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/ps/(.*)$</from>
		<to type="forward">/rankPhotoList.jsp?id=$1</to>
	</rule>


	<rule>
		<from>^/ls/(.*)/(.*)/(.*)$</from>
		<to type="forward">/rankLinkList.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/ls/(.*)/(.*)$</from>
		<to type="forward">/rankLinkList.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/ls/(.*)$</from>
		<to type="forward">/rankLinkList.jsp?id=$1</to>
	</rule>

	<rule>
		<from>^/ns/(.*)/(.*)/(.*)$</from>
		<to type="forward">/rankNewsList.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/ns/(.*)/(.*)$</from>
		<to type="forward">/rankNewsList.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/ns/(.*)$</from>
		<to type="forward">/rankNewsList.jsp?id=$1</to>
	</rule>


	<rule>
		<from>^/rs/(.*)/(.*)/(.*)$</from>
		<to type="forward">/rankList.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/rs/(.*)/(.*)$</from>
		<to type="forward">/rankList.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/rs/(.*)$</from>
		<to type="forward">/rankList.jsp?id=$1</to>
	</rule>
	<rule>
		<from>^/rankList/(.*)/(.*)/(.*)$</from>
		<to type="forward">/rankList.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/rankList/(.*)/(.*)$</from>
		<to type="forward">/rankList.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/rankList/(.*)$</from>
		<to type="forward">/rankList.jsp?id=$1</to>
	</rule>


	<rule>
		<from>^/rankListRows/(.*)/(.*)/(.*)$</from>
		<to type="forward">/rankListRows.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/rankListRows/(.*)/(.*)$</from>
		<to type="forward">/rankListRows.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/rankListRows/(.*)$</from>
		<to type="forward">/rankListRows.jsp?id=$1</to>
	</rule>


	<rule>
		<from>^/rankPhotoListRows/(.*)/(.*)/(.*)$</from>
		<to type="forward">/rankPhotoListRows.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/rankPhotoListRows/(.*)/(.*)$</from>
		<to type="forward">/rankPhotoListRows.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/rankPhotoListRows/(.*)$</from>
		<to type="forward">/rankPhotoListRows.jsp?id=$1</to>
	</rule>


	<rule>
		<from>^/rankLinkListRows/(.*)/(.*)/(.*)$</from>
		<to type="forward">/rankLinkListRows.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/rankLinkListRows/(.*)/(.*)$</from>
		<to type="forward">/rankLinkListRows.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/rankLinkListRows/(.*)$</from>
		<to type="forward">/rankLinkListRows.jsp?id=$1</to>
	</rule>


	<rule>
		<from>^/rankNewsListRows/(.*)/(.*)/(.*)$</from>
		<to type="forward">/rankNewsListRows.jsp?id=$1&amp;id2=$2&amp;id3=$3</to>
	</rule>
	<rule>
		<from>^/rankNewsListRows/(.*)/(.*)$</from>
		<to type="forward">/rankNewsListRows.jsp?id=$1&amp;id2=$2</to>
	</rule>
	<rule>
		<from>^/rankNewsListRows/(.*)$</from>
		<to type="forward">/rankNewsListRows.jsp?id=$1</to>
	</rule>



	<rule>
		<from>^/login.html$</from>
		<to type="forward">/login.jsp</to>
	</rule>
	<rule>
		<from>^/register.html$</from>
		<to type="forward">/register.jsp</to>
	</rule>
	<rule>
		<from>^/forgot.html$</from>
		<to type="forward">/forgot.jsp</to>
	</rule>
	<rule>
		<from>^/setting.html$</from>
		<to type="forward">/setting.jsp</to>
	</rule>
	<rule>
		<from>^/resetPassword.html$</from>
		<to type="forward">/resetPassword.jsp</to>
	</rule>	 

	<!-- @see http://wiwiluo.iteye.com/blog/530883 -->
	<rule>
		<from>^/index.html$</from>
		<to type="forward">/index.jsp</to>
	</rule>



	<rule>
		<from>^/termsOfService.html$</from>
		<to type="forward">/termsOfService.jsp</to>
	</rule>
	<rule>
		<from>^/privacy.html$</from>
		<to type="forward">/privacy.jsp</to>
	</rule>
	<rule>
		<from>^/contact.html$</from>
		<to type="forward">/contact.jsp</to>
	</rule>


</urlrewrite>

